{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\n//Primero hacemos las variables\n\nconst searchFilm = document.querySelector('.js_search-films');\nconst button = document.querySelector('.js_button');\nconst reset = document.querySelector('.js_reset');\nconst films = document.querySelector('.js_films');\nconst favoriteFilms = document.querySelector('.js_favorite-films');\nconst defaultImage= \"https://via.placeholder.com/210x295/ffffff/666666/?text=TV\";\n\n//Vamos a crear una variable global para el array de los datos del fetch\nlet globalData=[];\n//Tambien crearemos una variable para los favoritos \nlet favorites=[]\n\n\n//Vamos a realizar el Fetch\n  function getFilms(ev){ \n   ev.preventDefault()\n    let search =searchFilm.value;\n   fetch(`//api.tvmaze.com/search/shows?q=${search}`)\n    .then((response) => response.json())\n    .then((data) => {\n       //Le decimos que el array de global data es igual a los datos que nos da el fetch\n      globalData = data;\n\n    //Añadimos la funcion que pinta las caratulas\n    paintFilms(globalData);\n    });\n    \n    }\n\n //Listener del fetch \n button.addEventListener('click', getFilms);\n\n    //Creamos una función para que se nos pinta las caratulas de las series\n    function paintFilms() {\n       //Cogemos la variable de films, para poder escribir por encima\n       films.innerHTML=\"\";\n\n      //recorro el array de los datos del fech\n      for (const item of globalData) {\n         //Buscamos que la serie que estamos pintando este o no en los favoritos del usuario\n         const ifThis = favorites.find( \n            (favoriteId)=> favoriteId.show.id === item.show.id); //Usamos el metodo find por que nos permite buscar elementos dentro de un array \n         \n         //Realizamos un condicional para saber si esta en favoritos\n         let isFavorite= '';\n         if (ifThis=== undefined){\n            isFavorite='';\n         } else{\n            isFavorite='favorite';\n         }\n         //Por si la serie no tuviera imagen ponemos \n         \n         if(item.show.image === null){\n            films.innerHTML+=`<li id=\"${item.show.id}\" class=\"js-list-item ${isFavorite}\"><div class=\"js-list-div\"><h2 class=\"js-showName\">${item.show.name}</h2><img class= \"js-image\" src=${defaultImage} /></div></li>`;\n         } else{\n            films.innerHTML += `<li id=\"${item.show.id}\" class=\"js-list-item ${isFavorite}\"><div class=\"js-list-div\"><h2 class=\"js-showName\">${item.show.name}</h2><img class=\"js-image\" src=\"${item.show.image.medium}\"/></div></li>`;\n    }\n  }\n  addListenerToCovers();\n}\n\nfunction addListenerToCovers() {\n   const allCovers = document.querySelectorAll(\".js-list-item\");\n   for (const cover of allCovers) {\n     cover.addEventListener(\"click\", handleClickCard);\n   }\n }\n //Favoritos\n \n\n\n\n        \n\n\n"]}